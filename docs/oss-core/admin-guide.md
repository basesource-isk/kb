# Руководство администратора

Для использования приложения вам потребуется составить один или несколько файлов с тестами. В качестве формата для файлов используется YAML.

Структура файла представляет собой набор параметров вида `ключ: значение`. Основные параметры должны быть указаны в каждом файле, параметры модуля задаются в зависимости от типа тестирования.

На данный момент в приложении доступны 3 модуля:

* `rest_api`: для взаимодействия с REST API тестируемого сервиса;
* `html`: для web тестов;
* `bash`: для использования командной оболочки.

## Основные параметры <a href="#global-keys" id="global-keys"></a>

| Ключ             | Описание                                                                                                       |
| ---------------- | -------------------------------------------------------------------------------------------------------------- |
| `name`           | Произвольное имя файла с тестами.                                                                              |
| `module`         | Тип тестирования, поддерживается 3 значения: `rest_api`, `bash`, `html`                                        |
| `server_ip`      | IP-адрес тестируемого сервиса.                                                                                 |
| `alias`          | Необязательное поле. При загрузке файла в приложение заданное значение будет отображено в столбце `Псевдоним`. |
| `authentication` | Учетные данные для аутентификации.                                                                             |

### Модуль rest\_api <a href="#rest-api-keys" id="rest-api-keys"></a>

| Ключ       | Описание                                              |
| ---------- | ----------------------------------------------------- |
| `base url` | Точка входа API.                                      |
| `urls`     | Методы API и передаваемые параметры для тестирования. |

### Модуль html <a href="#html-keys" id="html-keys"></a>

| Ключ       | Описание                                    |
| ---------- | ------------------------------------------- |
| `base url` | Базовый URL сервиса.                        |
| `pages`    | Перечень URL и параметров для тестирования. |

### Модуль bash <a href="#shell-keys" id="shell-keys"></a>

| Ключ       | Описание                                                |
| ---------- | ------------------------------------------------------- |
| `commands` | Перечень команд оболочки и параметров для тестирования. |

## Описание параметров <a href="#reference" id="reference"></a>

### `alias`

Необязательное поле. При загрузке файла в приложение заданное значение будет отображено в столбце `Псевдоним`.

Тип параметра: Основной.

Пример:

```yaml
alias: "Псевдоним теста"
```

### `authentication`

Учетные данные для аутентификации.

Тип параметра: Основной.

Поддерживает следующие подпараметры:

* `authentication:auth`
* `authentication:login`
* `authentication:username`
* `authentication:password`

#### `authentication:auth`

Позволяет указать тип аутентификации, если на конечном сервисе доступно несколько способов (например: внутренняя база данных, LDAP, Radius и т.д.).

Тип параметра: `html`, `rest_api`

Пример:

```yaml
authentication:
  auth: internal
```

#### `authentication:login`

Имя учетной записи.

Тип параметра: `bash`, `html`

Пример для модуля `html`:

```yaml
authentication:
  login: user
```

Для модуля `bash` указывается в формате `пользователь@адрес_сервиса`:

```yaml
authentication:
  login: user@10.1.1.10
```

#### `authentication:username`

Имя учетной записи.

Тип параметра: `rest_api`

Пример:

```yaml
authentication:
  username: user
```

#### `authentication:password`

Пароль учетной записи.

Тип параметра: `bash`, `html`, `rest_api`

Пример:

```yaml
authentication:
  password: password
```

### `base url`

URL для доступа к тестируемому сервису.

Тип параметра: `html`, `rest_api`

Для модуля `html` указывается базовый URL сервиса:

```yaml
base url: https://10.1.1.10/
```

Для модуля `rest_api` указывается точка входа API:

```yaml
base url: https://10.1.1.10/rest/
```

### `commands`



#### `commands:command`



#### `commands:expect_contains`



### `module`

Тип используемого для тестирования модуля приложения.

Тип параметра: Основной.

Возможные значения параметра:

* `rest_api`
* `bash`
* `html`

Пример:

```yaml
module: rest_api
```

### `name`

Произвольное имя файла с тестами.

Тип параметра: Основной.

Пример:

```yaml
name: "Стандартный тест rest-api на сервере 10.1.1.10"
```

### `pages`



#### `pages:url`



#### `pages:method`



#### `pages:value`



#### `pages:text`



#### `pages:click`



### `server_ip`

IP-адрес тестируемого сервиса.

Тип параметра: Основной.

Пример:

```yaml
server_ip: '10.1.1.10'
```

### `urls`



#### `urls:url`



#### `urls:method`



#### `urls:body`



#### `urls:details`



**`urls:details:url`**



**`urls:details:method`**



**`urls:details:body`**



